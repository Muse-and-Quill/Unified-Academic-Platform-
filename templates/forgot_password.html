<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>UAP - Forgot Password</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Poppins", sans-serif; }
    body { overflow-x: hidden; }

    #preloader {
        position: fixed; inset: 0;
        background: linear-gradient(to bottom right, #FCF5EE, #EBD5AB);
        display: flex; justify-content: center; align-items: center;
        z-index: 9999;
    }
    #preloader img { width: 120px; height: 120px; animation: pulse 1.5s infinite ease-in-out; }
    @keyframes pulse {
        0% { transform: scale(1); opacity: 1; }
        50% { transform: scale(1.1); opacity: 0.7; }
        100% { transform: scale(1); opacity: 1; }
    }

    .bg-image {
        position: absolute; inset: 0;
        background-image: url("https://plus.unsplash.com/premium_photo-1676068243733-df1880c2aef8?auto=format&fit=crop");
        background-size: cover; background-position: center;
        filter: blur(3px); opacity: 0.8; z-index: -2;
    }
    .bg-overlay {
        position: absolute; inset: 0;
        background: linear-gradient(to bottom right, rgba(248,244,236,0.6), rgba(255,162,57,0.3));
        z-index: -1;
    }

    .navbar {
        width: 100%; display: flex; justify-content: center;
        padding-top: 20px; position: relative; z-index: 999;
    }
    .nav-container {
        width: 100%; max-width: 1100px; height: 70px;
        padding: 8px 25px; display: flex; justify-content: space-between; align-items: center;
        border-radius: 50px; backdrop-filter: blur(15px);
        background: rgba(255, 255, 255, 0.22);
        border: 1px solid rgba(255, 255, 255, 0.35);
        box-shadow: 0px 8px 25px rgba(0,0,0,0.15);
        opacity: 0; transform: translateY(-40px);
        animation: navFade 0.6s ease-out forwards;
    }
    @keyframes navFade {
        to { opacity: 1; transform: translateY(0); }
    }
    .logo { width: 150px; transition: 0.3s; }
    .logo:hover { transform: scale(1.05); }

    .menu { display: flex; align-items: center; gap: 30px; font-weight: 600; }
    .menu a { text-decoration: none; color: #63A361; font-size: 18px; transition: 0.3s; }
    .menu a:hover { color: #427A76; }

    .btn-primary {
        padding: 10px 32px; background: #FFA239; color: white;
        border: none; border-radius: 40px; font-size: 18px; font-weight: bold;
        cursor: pointer; box-shadow: 0px 5px 15px rgba(0,0,0,0.2); transition: 0.3s;
    }
    .btn-primary:hover { background: #ff9933; transform: scale(1.05); }

    .menu-btn { display: none; font-size: 32px; color: #F8F4EC; cursor: pointer; }

    .mobile-menu {
        position: absolute; top: 110px; width: 100%; max-width: 1100px;
        margin: 0 auto; padding: 25px;
        background: rgba(255,255,255,0.28); backdrop-filter: blur(15px);
        border-radius: 25px; border: 1px solid rgba(255,255,255,0.4);
        box-shadow: 0px 5px 25px rgba(0, 0, 0, 0.15);
        display: none; flex-direction: column; text-align: center; gap: 18px;
        animation: dropdown 0.35s ease-out;
    }
    @keyframes dropdown {
        from { opacity: 0; transform: translateY(-15px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .mobile-menu a { text-decoration: none; color: #403A3E; font-size: 20px; font-weight: 600; }
    .mobile-btn { margin-top: 10px; }

    @media (max-width: 768px) {
        .menu { display: none; }
        .menu-btn { display: block; }
    }

    main {
        min-height: 80vh; display: flex; justify-content: center; align-items: center; padding: 20px;
    }

    .card {
        max-width: 560px; width: 100%;
        background: rgba(255, 255, 255, 0.26);
        border-radius: 30px; border: 1px solid rgba(255,255,255,0.4);
        backdrop-filter: blur(12px);
        box-shadow: 0px 8px 25px rgba(0, 0, 0, 0.15);
        padding: 30px 30px 25px;
        opacity: 0; transform: translateY(20px);
        animation: fadeIn 1.2s ease-out forwards 0.3s;
    }

    h1 {
        font-size: 26px; color: #540863; font-weight: 700;
        margin-bottom: 8px;
    }
    p.desc {
        font-size: 14px; color: #555; margin-bottom: 20px;
    }

    form { display: flex; flex-direction: column; gap: 15px; }

    label {
        font-size: 14px; font-weight: 600; color: #333;
        margin-bottom: 3px; text-align: left;
    }
    .input-group { display: flex; flex-direction: column; text-align: left; }
    input, select {
        padding: 10px 12px; border-radius: 12px; border: 1px solid rgba(0,0,0,0.1);
        outline: none; font-size: 14px; background: rgba(255,255,255,0.9); transition: 0.2s;
    }
    input:focus, select:focus {
        border-color: #FFA239;
        box-shadow: 0 0 0 2px rgba(255,162,57,0.25);
    }

    .btn-submit {
        margin-top: 8px; padding: 11px 20px; font-size: 16px;
        background: #FFA239; color: #fff; border: none;
        border-radius: 25px; cursor: pointer; font-weight: 600;
        transition: 0.3s; box-shadow: 0px 5px 15px rgba(0,0,0,0.18);
    }
    .btn-submit:hover { background: #ff9933; transform: translateY(-1px); }

    .message { font-size: 13px; margin-top: 8px; text-align: left; }
    .message.success { color: #1e7e34; }
    .message.error { color: #c0392b; }

    .helper-text {
        margin-top: 10px; font-size: 13px; color: #555; text-align: left;
    }
    .helper-text a { color: #427A76; text-decoration: none; font-weight: 600; }
    .helper-text a:hover { text-decoration: underline; }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>
</head>
<body>

<div id="preloader">
    <img src="/DICT/static/images/preloader.gif" alt="Loading...">
</div>

<div class="bg-image"></div>
<div class="bg-overlay"></div>

<nav class="navbar">
    <div class="nav-container">
        <a href="/">
            <img src="uap-logo.png" alt="UAP Logo" class="logo">
        </a>

        <div class="menu">
            <a href="/about">About</a>
            <a href="/contact">Contact Us</a>
            <a href="/login">
                <button class="btn-primary">Sign In / Register</button>
            </a>
        </div>

        <div class="menu-btn" id="menuBtn">☰</div>
    </div>

    <div class="mobile-menu" id="mobileMenu">
        <a href="/about">About</a>
        <a href="/contact">Contact Us</a>
        <a href="/login">
            <button class="btn-primary mobile-btn">Sign In / Register</button>
        </a>
    </div>
</nav>

<main>
    <div class="card">
        <h1>Forgot Password</h1>
        <p class="desc">Enter your Employee ID and registered email. If the details are correct, we will send you a password reset link.</p>

        {% if message %}
        <p class="message success">{{ message }}</p>
        {% endif %}
        {% if error %}
        <p class="message error">{{ error }}</p>
        {% endif %}

        <form method="POST" action="/forgot-password">
            <div class="input-group">
                <label for="role">Account Type</label>
                <select name="role" id="role" required>
                    <option value="hsd" selected>HSD / DICT Employee</option>
                    <!-- Future: <option value="student">Student</option> -->
                    <!-- Future: <option value="teacher">Teacher</option> -->
                </select>
            </div>

            <div class="input-group">
                <label for="employee_id">Employee ID</label>
                <input type="text" id="employee_id" name="employee_id" placeholder="e.g. DICT001" required>
            </div>

            <div class="input-group">
                <label for="email">Registered Email</label>
                <input type="email" id="email" name="email" placeholder="your.email@example.com" required>
            </div>

            <button type="submit" class="btn-submit">Send Reset Link</button>
        </form>

        <p class="helper-text">
            Remembered your password? <a href="/login">Back to Login</a>
        </p>
    </div>
</main>

<script>
    window.addEventListener("load", () => {
        setTimeout(() => {
            document.getElementById("preloader").style.display = "none";
        }, 4000);
    });

    const menuBtn = document.getElementById("menuBtn");
    const mobileMenu = document.getElementById("mobileMenu");
    let open = false;
    menuBtn.addEventListener("click", () => {
        open = !open;
        menuBtn.textContent = open ? "✖" : "☰";
        mobileMenu.style.display = open ? "flex" : "none";
    });
</script>

</body>
</html>
